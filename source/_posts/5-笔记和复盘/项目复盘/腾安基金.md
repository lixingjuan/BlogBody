# 遇到难题

## element 不满足需求

1. 问题：element select multiple 情况下, 不支持根据option数据修改tag样式
2. 解决方法：

通过 `replace-in-file`, 修改源码

```js
const replace = require('replace-in-file');
const path = require('path');

const file = path.resolve(__dirname, '../node_modules/element-ui/lib/element-ui.common.js');
(() => {

  const results = replace.sync({
    files: file,
    from: `props: {
    value: {
      required: true
    },
    label: [String, Number],
    created: Boolean,
    disabled: {
      type: Boolean,
      default: false
    }
  },`,
    to: `props: {
    value: {
      required: true
    },
    label: [String, Number],
    created: Boolean,
    disabled: {
      type: Boolean,
      default: false
    },
    tagOptions: Object
  },`,
  });

  console.log(results);

})();

(() => {

  const results = replace.sync({
    files: file,
    from: `{
                          key: _vm.getValueKey(item),
                          attrs: {
                            closable: !_vm.selectDisabled,
                            size: _vm.collapseTagSize,
                            hit: item.hitState,
                            type: "info",
                            "disable-transitions": ""
                          },
                          on: {
                            close: function($event) {
                              _vm.deleteTag($event, item)
                            }
                          }
                        },`,
    to: `{
                          key: _vm.getValueKey(item),
                          class:[item.tagOptions && item.tagOptions.className ? item.tagOptions.className:""],
                          attrs: {
                            closable: !_vm.selectDisabled,
                            size: _vm.collapseTagSize,
                            hit: item.hitState,
                            type: item.tagOptions && item.tagOptions.type ? item.tagOptions.type : "info",
                            "disable-transitions": ""
                          },
                          on: {
                            close: function($event) {
                              _vm.deleteTag($event, item)
                            }
                          }
                        },`,
  });

  console.log(results);

})();

```

