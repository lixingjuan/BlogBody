
## 位掩码

### 基础原理

1. 按位与（&）：仅当 相应的操作位 都为1时结果为1，否则为0；
  - 0 & 1= 0
  - 0 & 0= 0
  - 1 & 1= 1
2. 按位或（|）：仅当 相应的操作位 都为0时结果为0，否则为1；
  - 0 | 1= 1
  - 0 | 0= 0
  - 1 | 1= 1

### 实际应用
1. 拥有四个不同的权限，根据传入的位掩码标志来判断拥有哪几个权限

| 权限  | 代表数字 | 代表数字二进制 |
|-------|----------|----------------|
| 权限A | 1        | 0001           |
| 权限B | 2        | 0010           |
| 权限C | 4        | 0100           |
| 权限D | 8        | 1000           |

| 拥有权限 | 传入数字 | 传入数字二进制 | 解释                     |
|----------|----------|----------------|--------------------------|
| 权限A    | 1        | 0001           | userA = 0b0001            |
| 权限B    | 2        | 0010           | userB = 0b0010            |
| 权限AB   | 3        | 0011           | userAB = 0b0001 \| 0b0010  |
| 权限ABC  | 7        | 0111           | userABC = 0b0001 \| 0b0010 \| 0b0100 |
| 权限ABCD | 8        | 1111           |                           |

```javascript
// 传入的位掩码标志
let bismaskFlag; // 设为7 即 0b0111, 即拥有权限ABC

/* 判断是否拥有权限 B */
const hasPermissionB = bismaskFlag | 0b0010 === bismaskFlag; // true

/* 指定用户拥有哪个权限 */
// 写法1 
const userBD_1 = 0b0010 | 0b1000
// 写法2
const userBD_2 = 2 | 8

```


 

 
## lodash比较值是否相等
1. lodash的写法：

```javascript

function eq(value1, value2) {
  return value1 === value2 || (value1 !== value1 && value2 !== value2);
}

```

2. 不使用Object.is 原因：
  - `Object.is(+0,-0); // false `
3. 不使用isNaN 原因：
  - `isNaN('x'); // true `
  - 改进：使用 `Number.isNaN()`  `Number.isNaN('x'); // false `
4. 比较值相等时常用方法各自特点

| 方法      | 特点1              | 特点2            |
|-----------|--------------------|------------------|
| ==        | 会自动进行类型转换 | --               |
| ===       | 认为NaN不等于NaN   | 认为+0 等于 -0   |
| Object.is | 认为NaN等于NaN     | 认为+0 不等于 -0 |


